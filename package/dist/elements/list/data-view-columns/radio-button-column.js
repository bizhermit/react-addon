"use strict";var __importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});const react_1=__importDefault(require("react")),radio_buttons_1=require("../../inputs/radio-buttons"),jsx_style_1=__importDefault(require("../../../styles/jsx-style")),css_var_1=require("../../../styles/css-var"),dom_1=require("../../../utils/dom"),cn="bh-dv_c-rdb",DataViewRadioButtonColumn=e=>{const t=e.selectedValue??!0,l=e.unselectedValue??null;return{width:-1,sort:!1,resize:!1,cellTextAlign:"center",...e,bindedItems:a=>{let n=!1;a.forEach((a=>{n?a[e.name]=l:a[e.name]===t&&(n=!0)})),e.disabled||!n&&a.length>0&&(a[0][e.name]=t)},initialize:()=>{const t=document.createElement("div");return t.classList.add(cn,radio_buttons_1.radioButtonCn),e.disabled?(t.setAttribute("data-m","d"),t.setAttribute("data-disabled",String(!0===e.disabled))):t.setAttribute("data-m","e"),{elem:t}},cellInitialize:(e,t)=>{e.element.classList.add(`${cn}-cell`);const l=(0,dom_1.cloneDomElement)(t.elem);e.contentElements.push(l),e.element.appendChild(l)},cellRender:({contentElements:e,row:l,column:a,cache:n})=>{const r=l.item.data[a.name]===t;n[a.name]!==r&&e[0].setAttribute("data-selected",String(n[a.name]=r))},clickCell:e.selectRowClick||e.disabled?e.clickCell:(a,n)=>{if(e.clickCell)return e.clickCell(a,n);let r;for(const n of a.originItems())n[e.name]===t&&(r=n),n[e.name]=l;return a.data[e.name]=t,e.endedEdit?.({before:r,after:a.data},{columnName:a.columnName,data:a.data,index:a.rowNumber-1,id:a.id},!0),{renderHeaderCell:!0,renderFooterCell:!0}},clickRow:e.selectRowClick&&!e.disabled?(a,n)=>{if(e.clickRow)return e.clickRow(a,n);let r;for(const n of a.originItems())n[e.name]===t&&(r=n),n[e.name]=l;return a.data[e.name]=t,e.endedEdit?.({before:r,after:a.data},{columnName:a.columnName,data:a.data,index:a.rowNumber-1,id:a.id},!0),{renderHeaderCells:!0,renderFooterCells:!0}}:e.clickRow,jsxStyle:react_1.default.createElement(react_1.default.Fragment,null,radio_buttons_1.RadioButtonStyle,Style)}},Style=react_1.default.createElement(jsx_style_1.default,{id:cn},(()=>`\n.${cn}-cell[data-disabled="false"] {\n  cursor: pointer;\n}\n.${cn}-cell[data-disabled="true"] > .${cn} {\n  ${css_var_1.CssPV.inactOpacity}\n}\n.${cn}-cell > .${cn}::after {\n  transition: unset;\n}\n`));exports.default=DataViewRadioButtonColumn;