"use strict";var __importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});const string_utils_1=__importDefault(require("@bizhermit/basic-utils/dist/string-utils")),react_1=__importDefault(require("react")),dom_1=require("../../../utils/dom"),icon_1=require("../../icon"),cn="bh-dv_c-icon",DataViewIconColumn=e=>({name:e.name??string_utils_1.default.generateUuidV4(),fixed:e.fixed,cellTextAlign:e.cellTextAlign??"center",width:e.width??-1,initialize:()=>{const t=document.createElement("div");return t.classList.add(cn,icon_1.iconCn),e.defaultColor&&t.setAttribute("data-color",e.defaultColor),t.innerHTML=`<div class="${icon_1.iconCn}_c"></div>`.repeat(2),{elem:t}},cellInitialize:(e,t)=>{e.element.classList.add(`${cn}-cell`);const n=(0,dom_1.cloneDomElement)(t.elem);e.contentElements.push(n),e.element.appendChild(n)},cellRender:e.name?({row:t,column:n,cache:a,contentElements:i})=>{const l=t.item.data[n.name]||e.defaultIcon;if(a[n.name]!==l&&(a[n.name]&&i[0].classList.remove(`${icon_1.iconCn}-${a[n.name]}`),l&&i[0].classList.add(`${icon_1.iconCn}-${l}`),a[n.name]=l),e.colorDataName){const n=t.item.data[e.colorDataName]||e.defaultColor;a[e.colorDataName]!==n&&i[0].setAttribute("data-color",a[e.colorDataName]=n)}}:()=>{},jsxStyle:react_1.default.createElement(react_1.default.Fragment,null,icon_1.IconStyle)});exports.default=DataViewIconColumn;